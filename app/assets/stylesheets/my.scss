/*
= require s3_direct_upload_progress_bars
= require octicons
*/
@import 'bourbon';
@import 'base/base';
@import 'theme';
$gw-column: 56px;
$gw-gutter: 28px;

// base
body {
  margin: $gutter auto;
  width: 980px;
  font-size: 21px;
  line-height: 1.4;
}

input {
  font-size: 1em;
}

h1 {
  margin-bottom: $gutter;
}

// layout
.navbar-horizontal {
  height: $gw-column;
  margin: $gw-gutter auto;
  overflow: hidden;
  position: relative;
  white-space: nowrap;
  line-height: $gw-column;
  border-top: 1px solid $base-border-color;
  padding-top: $gw-gutter;
  .logo {
    position: absolute;
    left: 0;
    top: $gw-gutter;
    img {
      width: $gw-column;
      height: $gw-column;
    }
  }
  .current-user {
    position: absolute;
    top: $gw-gutter;
    right: 0;
  }
}

.person {
  overflow: auto;
}
.section {
  header {
    padding: .4em;
    margin-bottom: .4em;
    background: $blue;
    color: white;
    font-weight: bold;
    a {
      display: inline-block;
      position: absolute;
      top: .4em;
      right: .4em;
      color: $dark-blue;
      &:hover {
        color: black;
      }
    }
    position: relative;
  }
}

%left-third {
  float: left;
  width: grid-width(4);
  margin-right: $gw-gutter;
}

%two-thirds {
  float: left;
  width: grid-width(8);
}

%right-third {
  float: left;
  width: grid-width(4);
  margin-left: $gw-gutter;
}

.person-projects {
  width: grid-width(4);
  float: left;
  margin-bottom: $gw-gutter;
  .project {
    display: list-item;
    list-style: square;
    margin-left: $gutter;
    font-size: .75em;
  }
}

.person-about {
  width: grid-width(8);
  margin-left: $gw-gutter;
  margin-bottom: $gw-gutter;
  float: left;
}
.person-reflections, .person-reports, .person-testimonials {
  width: grid-width(4);
  margin-left: $gw-gutter;
  float: left;
}
.person-reflections {
  clear: both;
  margin-left: 0;
  margin-bottom: $gw-gutter;
  .reflection-content {
    font-size: .75em;
  }
  .reflection {
    margin-bottom: $gw-gutter;
  }
}
.person {
  .reflection, .testimonial, .report {
    margin-bottom: $gw-gutter;
  }
  .reflection-content, .report-content, .testimonial-content {
    font-size: .75em;
  }
  .report-date, .testimonial-date {
    color: $light-green;
  }
}

.testimonial-content {
  &:before {
    content: '“';
  }
  &:after {
    content: '”';
  }
}

.testimonial-source {
  font-size: .75em;
  font-weight: bold;
  &:before {
    content: '- ';
  }
}

.report-content { @extend .testimonial-content; }
.report-source { @extend .testimonial-source; }

.project {
  @include clearfix;
}
.project-leaders {
  width: grid-width(4);
  float: left;
}
.project-description {
  width: grid-width(8);
  float: left;
  margin-left: $gw-gutter;
}
.project-assets-form {
  clear: both;
  float: left;
  width: grid-width(4);
}

input[type=file] { padding-top: .4em; line-height: .5; }

.project-assets {
  float: left;
  width: grid-width(8) + $gw-gutter;
  @include clearfix;
}
.asset {
  width: grid-width(2);
  height: grid-width(2);
  float: left;
  background: $dark-gray;
  font-size: .5em;
  margin: 0 0 $gw-gutter $gw-gutter;
  position: relative;
  a {
    display: block;
    height: 100%;
    width: 100%;
  }
  img { width: 100%; height: 100%; }
  .asset-actions {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding: 4px;
    background: rgba(255,255,255,.75);
    a { color: $light-red; }
  }
}

.upload {
  width: auto;
  .progress {
    border: 3px solid $dark-blue;
    .bar { background: $dark-blue; }
  }
}

.mini-asset {
  display: block;
  width: grid-width(1);
  height: grid-width(1);
  margin: 0 $gw-gutter $gw-gutter 0;
  float: left;
  &:nth-child(4n) { margin-right: 0; }
}

.big-reflection {
  @include clearfix;
  .reflection-date {
    width: grid-width(4);
    float: left;
  }
  .reflection-content {
    width: grid-width(8);
    float: left;
    margin-left: $gw-gutter;
  }
  .reflection-assets-header {
    clear: left;
    @extend %left-third;
    margin-right: 0;
  }
}
.reflection-assets {
  @extend .project-assets;
}

.reflection-assets-form {
  @extend %left-third;
}

.reflection-form { @extend %two-thirds; }

.new-reflection { @include clearfix; }

.app-list {
  @include clearfix;
}
.app {
  @include clearfix;
  padding-top: $gw-gutter;
  margin-top: $gw-gutter;
  border-top: 1px solid $base-border-color;
  > a {
    @extend %left-third;
    padding: $gutter;
    background: $blue;
    color: white;
    box-sizing: border-box;
    font-weight: bold;
    &:hover {
      background: $dark-blue;
    }
  }
  .app-description {
    @extend %two-thirds;
  }
}
