- if params[:q]
  .search-results.row
    %h3
      = pluralize @people.count, 'result'
      = "for '#{params[:q]}'"
      = "in #{current_scope.name}."
      = link_to "Clear Search", params.clear

.row.search-add
  .g6.search
    %label Search
    %form{action: logbook_people_path, method: 'GET'}
      %input{name: 'q', type: 'text', placeholder: 'Type a name...'}
      %input{type: 'submit', value: 'Search'}
  .g6.add
    %label Add
    = form_for [:logbook, @person] do |f|
      .person-first-name
        =f.text_field :first_name, placeholder: 'First name', required: true
      .person-last-name
        =f.text_field :last_name, placeholder: 'Last name', required: true
      .person-grade
        =f.select :grade, Person::GRADE_ENUM
      .person-school
        =f.select :school_id, current_user.schools.map{|s| [s.name, s.id] }
      .person-actions
        =f.hidden_field :role, value: 'student'
        = f.submit "Add Person"
%ul.people
  %li.labels.person
    .person-first-name First
    .person-last-name Last
    .person-grade Grade
    .person-school School
    .person-actions Actions
  = render @people
=paginate @people rescue nil
