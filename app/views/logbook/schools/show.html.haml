.page-header
  %h1= @school.name
  %br

.row
  %h1= pluralize @school.engagements.count, "Engagement"
.row
  #engagement-bubbles
  = render partial: 'logbook/engagements/bubbles', locals: { container: '#engagement-bubbles', colors: Engagement::COLOR_ENUM, data: Engagement.as_bubbles(@school.engagements) }
.row
  %section#person-hours.g4
    %h2= "#{number_with_delimiter(@school.person_hours)} Student Engagement Hours"
    .graph#person-hours-graph
      = pie_chart @person_hrs, colors: Engagement::COLOR_ENUM, library: @chart_options

  %section#dd-hours.g4
    %h2= "#{number_with_delimiter(@school.engagements.sum(:duration))} DD Engagement Hours"
    .graph#person-hours-graph
      = pie_chart @dd_hrs, colors: Engagement::COLOR_ENUM, library: @chart_options

  %section#engagement-counts.g4
    %h2= "#{number_with_delimiter @school.engagements.count} Engagements"
    .graph#engagement-counts-graph
      = pie_chart @engagement_counts, colors: Engagement::COLOR_ENUM, library: @chart_options

.row
  %section#rhythm.g4
    %h2 Engagements by Day of Week
    = bar_chart @weekly_engagements, colors: Engagement::COLOR_ENUM, library: @chart_options.merge({ yAxis: { title: { text: "Engagements (count)" } } })

  %section#engagements-in-context.g4
    %h2 Engagements in Context
    .graph
      = bar_chart @engagements_in_context, colors: Engagement::COLOR_ENUM, library: @chart_options.merge({ yAxis: { title: { text: "Engagements (count)" } } })

  %section#engagement-percentage.g4
    %h2 Engagement Percentage
    .graph
      %span % of school actively engaged
      %span % of school passsively engaged

.row
  %h1= pluralize @school.projects.count, "Project"

.row
  #project-bubbles
  = render partial: 'logbook/projects/bubbles', locals: { container: '#project-bubbles', colors: Project::COLOR_ENUM, data: Project.as_bubbles(@school.projects) }

.row
  %section#projects.g4
    %h2= "#{@school.projects.count} Projects"
    .project-data= pie_chart @projects, library: @chart_options

  %section#projects-in-context.g4
    %h2 Projects in Context
    .graph
      = bar_chart @projects_in_context, colors: Project::COLOR_ENUM, library: @chart_options.merge({ yAxis: { title: { text: "Projects (count)" } } })
